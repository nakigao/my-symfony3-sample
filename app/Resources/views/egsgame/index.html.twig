{% extends 'admin/layout.html.twig' %}

{% block content %}
    <div class="row">
        <div class="col-sm-12">
            <h1>Egsgames list</h1>
            <p>マスターデータ閲覧用</p>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <form action="" name="egs-game-search-form" id="egs-game-search-form" data-action-url="{{ path('admin_egsgame_index') }}">
                <label for="year">年: </label>
                <select name="year">
                    {% for entry in egsGameYears %}
                        <option value="{{ entry.value }}" {% if entry.selected %}selected{% endif %}>{{ entry.htmlText }}</option>
                    {% endfor %}
                </select>
                <label for="month">月: </label>
                <select name="month">
                    {% for entry in egsGameMonths %}
                        <option value="{{ entry.value }}" {% if entry.selected %}selected{% endif %}>{{ entry.htmlText }}</option>
                    {% endfor %}
                </select>
                <label for="include_deleted">削除も含む: </label>
                <select name="include_deleted">
                    {% for entry in logicalTypes %}
                        <option value="{{ entry.value }}" {% if entry.selected %}selected{% endif %}>{{ entry.htmlText }}</option>
                    {% endfor %}
                </select>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            {% if egsGames is defined and egsGames is not empty %}
                <table class="table table-hover table-condensed table-responsive">
                    <thead>
                    <tr>
                        <th class="col-sm-1">Id</th>
                        {#<th>Egsbrandid</th>#}
                        <th class="col-sm-4">Name</th>
                        {#<th>Namekana</th>#}
                        <th class="col-sm-1">Releaseymd</th>
                        <th class="col-sm-1">Url</th>
                        <th class="col-sm-1">Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for entry in egsGames %}
                        <tr>
                            <td>{{ entry.id }}</td>
                            {#<td>{{ entry.egsBrandId }}</td>#}
                            <td><a href="https://www.google.co.jp/search?q=エロゲ {{ entry.name }}" target="_blank">{{ entry.name }}</a></td>
                            {#<td>{{ entry.nameKana }}</td>#}
                            <td>{% if entry.releaseYmd %}{{ entry.releaseYmd|date('Y-m') }}{% endif %}</td>
                            <td>
                                {% if entry.url is empty %}
                                    {# nothing to show #}
                                {% else %}
                                    <a href="{{ entry.url }}" target="_blank"><i class="fa fa-external-link" aria-hidden="true"></i></a>
                                {% endif %}
                            </td>
                            <td>
                                <a href="{{ path('admin_egsgame_show', { 'id': entry.id }) }}" class="btn btn-default" role="button"><i class="fa fa-eye" aria-hidden="true"></i></a>
                                {#<a href="{{ path('admin_egsgame_edit', { 'id': entry.id }) }}" class="btn btn-default" role="button"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>#}
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>NO DATA</p>
            {% endif %}
            {#<ul>#}
            {#<li>#}
            {#<a href="{{ path('admin_egsgame_new') }}">Create a new egsGame</a>#}
            {#</li>#}
            {#</ul>#}
        </div>
    </div>
{% endblock %}
